(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-my"],{"2a80":function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-0d8a32aa], .my-container[data-v-0d8a32aa]{height:100%}',""]),t.exports=n},"2b9c":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return a}));var a={uniIcons:e("9783").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"login-container"},[e("uni-icons",{attrs:{type:"contact-filled",size:"100",color:"#AFAFAF"}}),e("v-uni-button",{staticClass:"btn-login",attrs:{type:"primary","open-type":"getUserInfo"},on:{getuserinfo:function(n){arguments[0]=n=t.$handleEvent(n),t.getUserInfo.apply(void 0,arguments)}}},[t._v("一键登录")]),e("v-uni-view",{staticClass:"tips-text"},[t._v("登录后尽享更多权益")])],1)},s=[]},"2f75":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return a}));var a={myLogin:e("5125").default,myUserinfo:e("ad69").default},i=function(){var t=this.$createElement,n=this._self._c||t;return n("v-uni-view",{staticClass:"my-container"},[this.token?n("my-userinfo"):n("my-login")],1)},s=[]},5125:function(t,n,e){"use strict";e.r(n);var a=e("2b9c"),i=e("526b");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(s);e("bea7");var r=e("f0c5"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"fa0c1142",null,!1,a["a"],void 0);n["default"]=o.exports},"526b":function(t,n,e){"use strict";e.r(n);var a=e("739d"),i=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(s);n["default"]=i.a},6727:function(t,n,e){var a=e("b57d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("e90247d8",a,!0,{sourceMap:!1,shadowMode:!1})},"686f":function(t,n,e){"use strict";var a=e("b9d8"),i=e.n(a);i.a},"739d":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("c7eb")),s=a(e("3835")),r=a(e("1da1")),o=a(e("5530")),u=e("26cb"),c={name:"my-login",data:function(){return{}},computed:(0,o.default)({},(0,u.mapState)("m_user",["redirectInfo"])),methods:(0,o.default)((0,o.default)({},(0,u.mapMutations)("m_user",["updateUserInfo","updateToken","updateRedirectInfo"])),{},{getUserInfo:function(t){if("getUserInfo:fail auth deny"===t.detail.errMsg)return uni.$showMsg("您取消了登录授权！");this.updateUserInfo(t.detail.userInfo),this.getToken(t.detail)},getToken:function(t){var n=this;return(0,r.default)((0,i.default)().mark((function e(){var a,r,o,u,c,f,l;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.login().catch((function(t){return t}));case 2:if(a=e.sent,r=(0,s.default)(a,2),o=r[0],u=r[1],!o&&"login:ok"===u.errMsg){e.next=8;break}return e.abrupt("return",uni.$showError("登录失败！"));case 8:return c={code:u.code,encryptedData:t.encryptedData,iv:t.iv,rawData:t.rawData,signature:t.signature},e.next=11,uni.$http.post("/api/public/v1/users/wxlogin",c);case 11:if(f=e.sent,l=f.data,200===l.meta.status){e.next=15;break}return e.abrupt("return",uni.$showMsg("登录失败！"));case 15:uni.$showMsg("登录成功"),n.updateToken(l.message.token),n.navigateBack();case 18:case"end":return e.stop()}}),e)})))()},navigateBack:function(){var t=this;this.redirectInfo&&"switchTab"===this.redirectInfo.openType&&uni.switchTab({url:this.redirectInfo.from,complete:function(){t.updateRedirectInfo(null)}})}})};n.default=c},"7d4f":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("5530")),s=e("26cb"),r={computed:(0,i.default)({},(0,s.mapGetters)("m_cart",["total"])),watch:{total:{handler:function(t){this.setBadge()},immediate:!0}},onShow:function(){this.setBadge()},methods:{setBadge:function(){uni.setTabBarBadge({index:2,text:this.total+""})}}};n.default=r},"805d":function(t,n,e){var a=e("c133");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("0a335042",a,!0,{sourceMap:!1,shadowMode:!1})},a148:function(t,n,e){"use strict";var a=e("6727"),i=e.n(a);i.a},a512:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return a}));var a={uniIcons:e("9783").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"my-userinfo-container"},[e("v-uni-view",{staticClass:"top-box"},[e("v-uni-image",{staticClass:"avatar",attrs:{src:t.userinfo.avatarUrl}}),e("v-uni-view",{staticClass:"nickname"},[t._v(t._s(t.userinfo.nickName))])],1),e("v-uni-view",{staticClass:"panel-list"},[e("v-uni-view",{staticClass:"panel"},[e("v-uni-view",{staticClass:"panel-body"},[e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-text",[t._v("8")]),e("v-uni-text",[t._v("收藏的店铺")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-text",[t._v("14")]),e("v-uni-text",[t._v("收藏的商品")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-text",[t._v("18")]),e("v-uni-text",[t._v("关注的商品")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-text",[t._v("84")]),e("v-uni-text",[t._v("足迹")])],1)],1)],1),e("v-uni-view",{staticClass:"panel"},[e("v-uni-view",{staticClass:"panel-title"},[t._v("我的订单")]),e("v-uni-view",{staticClass:"panel-body"},[e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/my-icons/icon1.png"}}),e("v-uni-text",[t._v("待付款")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/my-icons/icon2.png"}}),e("v-uni-text",[t._v("待收货")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/my-icons/icon3.png"}}),e("v-uni-text",[t._v("退款/退货")])],1),e("v-uni-view",{staticClass:"panel-item"},[e("v-uni-image",{staticClass:"icon",attrs:{src:"/static/my-icons/icon4.png"}}),e("v-uni-text",[t._v("全部订单")])],1)],1)],1),e("v-uni-view",{staticClass:"panel"},[e("v-uni-view",{staticClass:"panel-list-item"},[e("v-uni-text",[t._v("收货地址")]),e("uni-icons",{attrs:{type:"arrowright",size:"15"}})],1),e("v-uni-view",{staticClass:"panel-list-item"},[e("v-uni-text",[t._v("联系客服")]),e("uni-icons",{attrs:{type:"arrowright",size:"15"}})],1),e("v-uni-view",{staticClass:"panel-list-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.logout.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("退出登录")]),e("uni-icons",{attrs:{type:"arrowright",size:"15"}})],1)],1)],1)],1)},s=[]},ad69:function(t,n,e){"use strict";e.r(n);var a=e("a512"),i=e("cb5d");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(s);e("a148");var r=e("f0c5"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"5e941f60",null,!1,a["a"],void 0);n["default"]=o.exports},b3a3:function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("c7eb")),s=a(e("3835")),r=a(e("1da1")),o=a(e("5530")),u=e("26cb"),c={name:"my-userinfo",data:function(){return{}},computed:(0,o.default)({},(0,u.mapState)("m_user",["userinfo"])),methods:(0,o.default)((0,o.default)({},(0,u.mapMutations)("m_user",["updateUserInfo","updateToken","updateAddress"])),{},{logout:function(){var t=this;return(0,r.default)((0,i.default)().mark((function n(){var e,a,r;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,uni.showModal({title:"提示",content:"确认退出登录吗？"}).catch((function(t){return t}));case 2:e=n.sent,a=(0,s.default)(e,2),a[0],r=a[1],r&&r.confirm&&(t.updateUserInfo({}),t.updateToken(""),t.updateAddress({}));case 7:case"end":return n.stop()}}),n)})))()}})};n.default=c},b57d:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.my-userinfo-container[data-v-5e941f60]{height:100%;background-color:#f4f4f4}.my-userinfo-container .top-box[data-v-5e941f60]{height:%?400?%;background-color:#c00000;display:flex;flex-direction:column;align-items:center;justify-content:center}.my-userinfo-container .top-box .avatar[data-v-5e941f60]{display:block;width:90px;height:90px;border-radius:45px;border:2px solid #fff;box-shadow:0 1px 5px #000}.my-userinfo-container .top-box .nickname[data-v-5e941f60]{color:#fff;font-weight:700;font-size:16px;margin-top:10px}.panel-list[data-v-5e941f60]{padding:0 10px;position:relative;top:-10px}.panel-list .panel[data-v-5e941f60]{background-color:#fff;border-radius:3px;margin-bottom:8px}.panel-list .panel .panel-title[data-v-5e941f60]{line-height:45px;padding-left:10px;font-size:15px;border-bottom:1px solid #f4f4f4}.panel-list .panel .panel-body[data-v-5e941f60]{display:flex;justify-content:space-around}.panel-list .panel .panel-body .panel-item[data-v-5e941f60]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;font-size:13px;padding:10px 0}.panel-list .panel .panel-body .panel-item .icon[data-v-5e941f60]{width:35px;height:35px}.panel-list-item[data-v-5e941f60]{height:45px;display:flex;justify-content:space-between;align-items:center;font-size:15px;padding:0 10px}',""]),t.exports=n},b9d8:function(t,n,e){var a=e("2a80");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("3fd34c74",a,!0,{sourceMap:!1,shadowMode:!1})},bea7:function(t,n,e){"use strict";var a=e("805d"),i=e.n(a);i.a},bf0b:function(t,n,e){"use strict";e.r(n);var a=e("fff0"),i=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(s);n["default"]=i.a},c133:function(t,n,e){var a=e("24fb");n=a(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.login-container[data-v-fa0c1142]{height:%?750?%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f8f8f8;position:relative;overflow:hidden}.login-container[data-v-fa0c1142]::after{content:" ";display:block;position:absolute;width:100%;height:40px;left:0;bottom:0;background-color:#fff;border-radius:100%;-webkit-transform:translateY(50%);transform:translateY(50%)}.login-container .btn-login[data-v-fa0c1142]{width:90%;border-radius:100px;margin:15px 0;background-color:#c00000}.login-container .tips-text[data-v-fa0c1142]{font-size:12px;color:grey}',""]),t.exports=n},cb5d:function(t,n,e){"use strict";e.r(n);var a=e("b3a3"),i=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(s);n["default"]=i.a},e044:function(t,n,e){"use strict";e.r(n);var a=e("2f75"),i=e("bf0b");for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(s);e("686f");var r=e("f0c5"),o=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"0d8a32aa",null,!1,a["a"],void 0);n["default"]=o.exports},fff0:function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("5530")),s=a(e("7d4f")),r=e("26cb"),o={data:function(){return{}},mixins:[s.default],computed:(0,i.default)({},(0,r.mapState)("m_user",["token"]))};n.default=o}}]);